<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>
Tesseroids v1.0
</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/> 
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<table cellspacing=20>
    <tr>
    <td> <img src="logo.png" alt="Logo" height=50 width=50> </td>
    <td align="center"> <font size=6>
    <b>Tesseroids 1.0</b>: User Manual and API Documentation </font></td>
</table>

<div class="supertabs">
    <ul class="tablist">
        <li><a href="index.html"><span>Main&#160;Page</span></a>
            <ul class="subtablist">
                <li><a href="http://code.google.com/p/tesseroids"><span>Project site</span></a></li>
                <li><a href="http://code.google.com/p/tesseroids/downloads/list"><span>Download</span></a></li>
                <li><a href="http://www.gnu.org/licenses/gpl.html"><span>License</span></a></li>
            </ul>
        </li>
        <li><a href="userman.html"><span>User&#160;Manual</span></a>
            <ul class="subtablist">
                <li><a href="userman-theory.html"><span>Theory</span></a></li>
                <li><a href="userman-instal.html"><span>Intallation</span></a></li>
                <li><a href="userman-usage.html"><span>Usage</span></a></li>
            </ul>
        </li>
        <li><a href="apidocs.html"><span>API&#160;Documentation</span></a>
            <ul class="subtablist">
                <li><a href="files.html"><span>Files</span></a></li>
                <li><a href="annotated.html"><span>Data Structures</span></a></li>
                <li><a href="globals_func.html"><span>Functions</span></a></li>
                <li><a href="todo.html"><span>To do</span></a></li>
            </ul>
        </li>
    </ul>
</div>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">


<h1><a class="anchor" id="userman-usage">Usage </a></h1> 
<table border=0>
<tr>
<td width="15%"></td>
<td>
<h2><a class="anchor" id="heights">
A note about heights and units</a></h2>
<p>In order to have a single convention, the word "height" means "height above the
Earths surface" and are interpreted as positive up and negative down, ie. oriented with the z axis of the Local coordinate system.</p>
<p>Also, all input units are in SI and decimal degrees. Output of tessg* programs are in mGal and Eotvos. All other output is also in SI and decimal degrees.</p>
<h2><a class="anchor" id="tessg">
Computing the gravitational effect of a tesseroid</a></h2>
<p>The tessgx, tessgy, tessgz, tessgxx, etc. programs calculate the combined effect of a list of tesseroids on given computation points. The computation points are passed via standard input and do NOT have to be in a regular grid. This allows, for example, computation on points where data was measured. The values calulated are put in the last column of the input points and printed to standard output.</p>
<p>For example, if calculating <img class="formulaInl" alt="$ g_z $" src="form_38.png"/> on these points:</p>
<div class="fragment"><pre class="fragment">
lon1 lat1 height1 value1 othervalue1
lon2 lat2 height2 value2 othervalue2
...
lonN latN heightN valueN othervalueN
</pre></div><p>the output would look something like:</p>
<div class="fragment"><pre class="fragment">
lon1 lat1 height1 value1 othervalue1 gz1
lon2 lat2 height2 value2 othervalue2 gz2
...
lonN latN heightN valueN othervalueN gzN
</pre></div><p>The input model file should contain one tesseroid per line and have columns formated as:</p>
<div class="fragment"><pre class="fragment">
W E S N HEIGHT_OF_TOP HEIGHT_OF_BOTTOM DENSITY
</pre></div><p>HEIGHT_OF_TOP and HEIGHT_OF_BOTTOM are positive if the above the Earth's surface and negavitive if bellow. Remember that HEIGHT_OF_TOP &gt; HEIGHT_OF_BOTTOM!</p>
<p>Use the command line option -h to view a list of all commands available.</p>
<h3><a class="anchor" id="tess-example">
Example:</a></h3>
<p>Calculate the <img class="formulaInl" alt="$ g_z $" src="form_38.png"/> field of a tesseroid model having verbose printed and logged to file "gz.log" and <a class="el" href="struct_g_l_q.html" title="Store the nodes and weights needed for a GLQ integration.">GLQ</a> order 3/3/3.</p>
<div class="fragment"><pre class="fragment">
tessgz modelfile.txt -v -lgz.log -o3/3/3 &lt; points.txt &gt; gz_data.txt
</pre></div><h3><a class="anchor" id="tess-adapt">
The -a flag</a></h3>
<p>The -a flag on tessg* programs enables the automatic re-sizing of tesseroids when it is needed to maintain the <a class="el" href="struct_g_l_q.html" title="Store the nodes and weights needed for a GLQ integration.">GLQ</a> precision desired. As a general rule, the tesseroid should be no bigger than it's distance from the computation point. Using this flag breaks the tesseroids automatically when this criterion is breached. This means that the computations can be performed with order 2/2/2 (default) which is much faster and still maintain correctness. <b>It is strongly recommended using this flag and 2/2/2 order always</b>.</p>
<h2><a class="anchor" id="verbose">
Verbose and loggin to files</a></h2>
<p>The -v flag enables printing of information messages to stderr. If ommited, only error messages will appear.</p>
<p>The -l flag enables logging of information and error messages to a file.</p>
<h2><a class="anchor" id="comments">
Comments and provenance information</a></h2>
<p>Comments can be inserted into input files by placing a "#" character at the start of a line. All comment lines are ignored. tessg* programs print the comment lines of the input to standard output.</p>
<p>All programs insert comments about the provenance of their results (where they came from) to their output. These include names of input files, version of program used, date, etc.</p>
<h2><a class="anchor" id="grid">
Generating a regular grid</a></h2>
<p>Included in the package is program "tessgrd" which creates a regular grid of points and prints them to standard output.</p>
<h3><a class="anchor" id="grdiexample">
Example</a></h3>
<div class="fragment"><pre class="fragment">
tessgrd -r-10/10/-10/10 -b100/100 -z250e03 -v &gt; points.txt
</pre></div><h2><a class="anchor" id="pipe">
Piping</a></h2>
<p>Tesseroids was designed with the Unix filosophy in mind:</p>
<div class="fragment"><pre class="fragment">
Write programs that do one thing and do it well.
Write programs to work together.
Write programs to handle text streams, because that is a universal interface.
</pre></div><p>Therefore, all tessg* and tessgrd programs can be piped together to calculate many components on a regular grid.</p>
<h3><a class="anchor" id="pipe-example">
Example</a></h3>
<p>Given a tesseroids file "model.txt" as follows:</p>
<div class="fragment"><pre class="fragment">
-5 5 -5 5 0 -10e03 -500
</pre></div><p>Running the following would calculate <img class="formulaInl" alt="$ g_z $" src="form_38.png"/> and gradient tensor of tesseroids in "model.txt" of a regular grid from -10W to 10E and -10S to 10N on 100x100 points at 250 km height. And the best of all is that it is done in parallel! If your system has multiple cores this would mean a great increase in the computation time.</p>
<div class="fragment"><pre class="fragment">
tessgrd -r-10/10/-10/10 -b100/100 -z250e03 | tessgz model.txt -a | \
tessgxx model.txt -a | tessgxy model.txt -a | tessgxz model.txt -a | \
tessgyy model.txt -a | tessgyz model.txt -a | tessgzz model.txt -a &gt; output.txt
</pre></div><p>The result of this should look something like:</p>
<div align="center">
<img src="example.png" alt="example.png"/>
</div>
  
</td>
<td width="15%"></td>
</table>
 </div>
<hr class="footer"/><address style="text-align: right;"><small>
Generated on Tue Feb 15 17:31:18 2011 for Tesseroids 1.0: User manual and API documentation by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3</small></address>
</body>
</html>
